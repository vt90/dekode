(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1039:function(e,a,t){"use strict";t.r(a);var n=t(42),r=t(43),o=t(45),l=t(44),c=t(46),s=t(0),i=t.n(s),d=t(33),m=t(28),u=t(22),f=t(83),p=t.n(f),v=t(459),E=t.n(v),h=t(34),b=t.n(h),g=t(1017),y=t.n(g),w=t(1026),S=t.n(w),A=t(157),C=t.n(A),T=t(161),N=t.n(T),x=t(1029),O=t.n(x),L=t(164),k=t.n(L),D=t(41),_=t.n(D),F=t(460),B=t(72),j=t(593),I=t.n(j),R=t(469),H=t.n(R),Y=t(901),U=t.n(Y),W=t(156),G=t.n(W),M="YYYY-MM-DD",z=I()(function(e){var a=e.analysedAddress,t=e.chartData,n=e.onAddressChange,r=e.windowWidth,o=0;if(t&&t.nodes&&t.nodes.length){var l=U()(t.nodes,function(e){return e.length});o=100*l.length}return i.a.createElement("div",null,t&&t.nodes&&t.nodes.length?i.a.createElement("div",null,i.a.createElement(H.a,{option:function(){var e=function(){var e=t.nodes,n=[],l=(r-120)/(e.length-1),c=60;return e.forEach(function(e){var t=(o-100*e.length)/(e.length+1),r=t+100;e.forEach(function(e,o){var l=e.id.toLowerCase()===a.toLowerCase(),s="image:///icons/".concat(l?"incognito":"account",".png");n.push({name:e.id,value:[c,r,4],symbolSize:l?58:50,symbol:s}),r+=100+t}),c+=l}),n}(),n=function(e){var a=t.transactions,n=[],r=[];return a.forEach(function(a){var t,o;e.forEach(function(e){e.name.toLowerCase()===a.from.toLowerCase()&&(t=e),e.name.toLowerCase()===a.to.toLowerCase()&&(o=e)}),t.value[0]<o.value[0]?n.push({fromName:a.from.toLowerCase(),toName:a.to.toLowerCase(),coords:[[t.value[0],t.value[1]],[o.value[0],o.value[1]]],transaction:a}):r.push({fromName:a.from.toLowerCase(),toName:a.to.toLowerCase(),coords:[[t.value[0],t.value[1]],[o.value[0],o.value[1]]],transaction:a})}),{sentForward:n,sentBackward:r}}(e),l=n.sentForward,c=n.sentBackward;return{backgroundColor:"rgba(0,0,0,0)",tooltip:{trigger:"item",formatter:"{b}"},geo:{map:"Position map",label:{emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#323c48",borderColor:"#404a59"},emphasis:{areaColor:"#2a333d"}}},series:[{name:"Addresses",type:"scatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{brushType:"stroke",period:7,scale:26},label:{},showEffectOn:"render",itemStyle:{normal:{color:"#46bee9"}},data:e},{name:"Sent transactions",type:"lines",coordinateSystem:"geo",zlevel:2,large:!0,tooltip:{trigger:"item",formatter:function(e){var a=e.data,t=a.fromName,n=a.toName,r="From <b>".concat(t,"</b><br>To <b>").concat(n,"</b><br><br>Transactions:<br>");return l.filter(function(e){return e.fromName===t&&e.toName===n}).map(function(e){return e.transaction}).forEach(function(e,a){r+="".concat(a+1,": <b>").concat(e.value,"</b> ETH (").concat(G()(1e3*e.timeStamp).format("YYYY-MM-DD HH:mm"),")<br>")}),r}},effect:{show:!0,constantSpeed:30,symbol:"arrow",symbolSize:8,trailLength:0},lineStyle:{normal:{color:"#66bb6a",width:3,opacity:.6,curveness:.1}},data:l},{name:"\u7ebf\u8def",type:"lines",coordinateSystem:"geo",zlevel:2,large:!0,tooltip:{trigger:"item",formatter:function(e){var a=e.data,t=a.fromName,n=a.toName,r="From <b>".concat(t,"</b><br>To <b>").concat(n,"</b><br><br>Transactions:<br>");return c.filter(function(e){return e.fromName===t&&e.toName===n}).map(function(e){return e.transaction}).forEach(function(e,a){r+="".concat(a+1,": <b>").concat(e.value,"</b> ETH (").concat(G()(1e3*e.timeStamp).format("YYYY-MM-DD HH:mm"),")<br>")}),r}},effect:{show:!0,constantSpeed:30,symbol:"arrow",symbolSize:8,trailLength:0},lineStyle:{normal:{color:"#ffa726",width:3,opacity:1,curveness:.2}},data:c}]}}(),style:{height:o+300},onEvents:{click:function(e){var a=e.componentType,t=e.componentSubType,r=e.name;"click"===e.type&&"series"===a&&"scatter"===t&&n(r)}}})):null)}),P=t(19),V=t(421),Z=t.n(V),J=t(981),K=t.n(J),X=function(e){return{accountBalanceCard:{padding:12,height:"100%"},accountBalanceHeader:{alignItems:"flex-end",display:"flex",marginTop:-24,"& svg":{color:"#FFF",fontSize:46}},accountBalanceContent:{flexGrow:1,textAlign:"right",wordBreak:"break-all","& span":{marginTop:20},"& h2":{fontSize:"1rem"}},totalBalance:{background:"linear-gradient(60deg,#ec407a,#d81b60)",padding:8},totalOutcome:{background:"linear-gradient(60deg,#ffa726,#fb8c00)",padding:8},totalIncome:{background:"linear-gradient(60deg,#66bb6a,#43a047)",padding:8},totalTransactions:{background:"linear-gradient(60deg,#26c6da,#00acc1)",padding:8},transactionsFlow:{background:"linear-gradient(45deg, #616161, #212121)"},tableRow:{"& td":{maxWidth:160,overflow:"hidden",textOverflow:"ellipsis"}},income:{color:"#43a047"},outcome:{color:"#fb8c00"},ownAddress:{"& *":{fontWeight:700}},transactionsFlowHeader:{padding:"46px 46px 0px","& *":{color:"rgba(255,255,255,0.9)"},"& > div":{width:120,maxWidth:"100%"}},filter:{background:"linear-gradient(45deg, #616161, #212121)","& *":{color:"#FFF"}}}},q={backgroundColor:"rgba(0,0,0,0)",color:["#66bb6a","#ffa726","rgba(0, 0, 0, 0.5)"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"right",top:"8%",align:"left",orient:"vertical",data:["Sent","Received","Balance"],symbolKeepAspect:!1,textStyle:{color:"#666"}},grid:{top:"5%%",left:"5%",containLabel:!0},xAxis:{type:"value",axisLine:{onZero:!1}},yAxis:{type:"value",splitLine:{show:!1,lineStyle:{color:["#f2f2f2"]}},axisLine:{onZero:!1}},dataZoom:[{type:"slider",xAxisIndex:0,filterMode:"empty"}]},Q=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(c)))).getActivityChart=function(e,a){for(var t=K()(a,function(e){return G()(1e3*e.timeStamp).format(M)}),n=Object.keys(t),r=G.a.min(n.map(function(e){return G()(e)})),o=G.a.max(n.map(function(e){return G()(e)})),l=G()(r),c=[];o.diff(l,"days")>=0;)c.push(l.format(M)),l.add(1,"days");var s=[],i=[],d=[];return c.forEach(function(a,n){var r=d[n-1]||0,o=0,l=0,c=t[a];c&&c.length&&c.forEach(function(a){a.to.toLowerCase()===e.toLowerCase()&&(l+=a.value,r+=a.value),a.from.toLowerCase()===e.toLowerCase()&&(o+=a.value,r-=a.value)}),s.push(o),i.push(l),d.push(r)}),{series:[{name:"Sent",type:"bar",stack:"day",data:s},{name:"Received",type:"bar",stack:"day",data:i},{name:"Balance",type:"line",stack:"day",data:d,symbolSize:0,smooth:!0,lineStyle:{normal:{width:2,opacity:1}}}],xAxis:[{type:"category",data:c}]}},t}return Object(c.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this.props,a=e.address,t=(e.classes,e.transactions),n=this.getActivityChart(a,t),r=n.series,o=n.xAxis;return i.a.createElement(E.a,null,i.a.createElement(Z.a,{container:!0,spacing:16},i.a.createElement(Z.a,{item:!0,xs:12},i.a.createElement(b.a,{elevation:12},i.a.createElement(H.a,{option:Object(P.a)({},q,{series:r,xAxis:o}),style:{height:600}})))))}}]),a}(s.Component),$=Object(u.withStyles)(X)(Q),ee=t(568),ae=t.n(ee),te=t(569),ne=t.n(te),re=t(996),oe=t.n(re),le=t(995),ce=t.n(le),se=Object(u.withStyles)(X)(function(e){e.address;var a=e.balance,t=e.classes;return i.a.createElement(Z.a,{container:!0,spacing:24},i.a.createElement(Z.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(b.a,{className:t.accountBalanceCard,elevation:6},i.a.createElement("div",{className:t.accountBalanceHeader},i.a.createElement(b.a,{className:t.totalBalance,elevation:4},i.a.createElement(ce.a,null)),i.a.createElement("div",{className:t.accountBalanceContent},i.a.createElement(_.a,{variant:"caption",color:"textSecondary",gutterBottom:!0},"Total balance"),i.a.createElement(_.a,{variant:"title",gutterBottom:!0},a.final_balance))))),i.a.createElement(Z.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(b.a,{className:t.accountBalanceCard,elevation:6},i.a.createElement("div",{className:t.accountBalanceHeader},i.a.createElement(b.a,{className:t.totalIncome,elevation:4},i.a.createElement(ae.a,null)),i.a.createElement("div",{className:t.accountBalanceContent},i.a.createElement(_.a,{variant:"caption",color:"textSecondary",gutterBottom:!0},"Total received"),i.a.createElement(_.a,{variant:"title",gutterBottom:!0},a.total_received))))),i.a.createElement(Z.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(b.a,{className:t.accountBalanceCard,elevation:6},i.a.createElement("div",{className:t.accountBalanceHeader},i.a.createElement(b.a,{className:t.totalOutcome,elevation:4},i.a.createElement(ne.a,null)),i.a.createElement("div",{className:t.accountBalanceContent},i.a.createElement(_.a,{variant:"caption",color:"textSecondary",gutterBottom:!0},"Total sent"),i.a.createElement(_.a,{variant:"title",gutterBottom:!0},a.total_sent))))),i.a.createElement(Z.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(b.a,{className:t.accountBalanceCard,elevation:6},i.a.createElement("div",{className:t.accountBalanceHeader},i.a.createElement(b.a,{className:t.totalTransactions,elevation:4},i.a.createElement(oe.a,null)),i.a.createElement("div",{className:t.accountBalanceContent},i.a.createElement(_.a,{variant:"caption",color:"textSecondary",gutterBottom:!0},"Transactions"),i.a.createElement(_.a,{variant:"title",gutterBottom:!0},a.final_n_tx))))))}),ie=t(25),de=t(1037),me=t(1001),ue=t.n(me),fe=t(162),pe=t.n(fe),ve=t(997),Ee=t.n(ve),he=t(999),be=t.n(he),ge=t(1007),ye=t.n(ge),we=t(1015),Se=t.n(we),Ae=t(1013),Ce=t.n(Ae),Te=t(1009),Ne=t.n(Te),xe=t(1011),Oe=t.n(xe),Le=t(111),ke=t.n(Le),De=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(c)))).state={sentTransactions:!0,receivedTransactions:!0,fromAddress:"",toAddress:"",minValue:null,maxValue:null},t.onFilterChange=function(e){return function(a){t.setState(Object(ie.a)({},e,a))}},t}return Object(c.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.address,n=a.classes,r=a.transactions,o=this.state,l=o.fromAddress,c=o.receivedTransactions,s=o.sentTransactions,d=o.toAddress;return i.a.createElement("div",null,i.a.createElement(E.a,null,i.a.createElement(b.a,{elevation:6,className:n.filter},i.a.createElement(E.a,null,i.a.createElement(_.a,{variant:"h5",color:"textPrimary"},"Filter"),i.a.createElement(Z.a,{container:!0,spacing:16},i.a.createElement(Z.a,{item:!0,xs:12,md:6},i.a.createElement(ke.a,{label:"From",fullWidth:!0,disableUnderline:!0,value:l,onChange:function(a){return e.onFilterChange("fromAddress")(a.target.value)},margin:"normal"})),i.a.createElement(Z.a,{item:!0,xs:12,md:6},i.a.createElement(ke.a,{label:"From",fullWidth:!0,disableUnderline:!0,value:d,onChange:function(a){return e.onFilterChange("toAddress")(a.target.value)},margin:"normal"})),i.a.createElement(Z.a,{item:!0,xs:12},i.a.createElement(C.a,{component:"fieldset"},i.a.createElement(pe.a,{component:"legend"},"Type"),i.a.createElement(Ee.a,{row:!0},i.a.createElement(be.a,{control:i.a.createElement(ue.a,{checked:s,onChange:function(a){return e.onFilterChange("sentTransactions")(a.target.checked)}}),label:"Sent"}),i.a.createElement(be.a,{control:i.a.createElement(ue.a,{checked:c,onChange:function(a){return e.onFilterChange("receivedTransactions")(a.target.checked)}}),label:"Received"})))))))),i.a.createElement("br",null),i.a.createElement(ye.a,null,i.a.createElement(Ne.a,null,i.a.createElement(Oe.a,null,i.a.createElement(Ce.a,{numeric:!0},"Type"),i.a.createElement(Ce.a,null,"From"),i.a.createElement(Ce.a,null,"To"),i.a.createElement(Ce.a,null,"TX Hash"),i.a.createElement(Ce.a,null,"Timestamp"),i.a.createElement(Ce.a,{numeric:!0},"Value (ETH)"))),i.a.createElement(Se.a,null,r.filter(function(e){var a=e.from,n=e.to;return!!a.toLowerCase().includes(l.toLowerCase())&&(!!n.toLowerCase().includes(d.toLowerCase())&&(!(!c&&n.toLowerCase()===t)&&!(!s&&a.toLowerCase()===t)))}).map(function(e){return i.a.createElement(Oe.a,{key:e.hash,className:n.tableRow,hover:!0},i.a.createElement(Ce.a,{numeric:!0},e.from.toLowerCase()===t?i.a.createElement(ne.a,{className:n.outcome}):i.a.createElement(ae.a,{className:n.income})),i.a.createElement(Ce.a,{className:e.from.toLowerCase()===t?n.ownAddress:""},i.a.createElement(de.a,{to:"/address/".concat(e.from)},i.a.createElement(_.a,{color:"primary"},e.from))),i.a.createElement(Ce.a,{className:e.to.toLowerCase()===t?n.ownAddress:""},i.a.createElement(de.a,{to:"/address/".concat(e.to)},i.a.createElement(_.a,{color:"primary"},e.to))),i.a.createElement(Ce.a,null,e.hash),i.a.createElement(Ce.a,null,G()(1e3*e.timeStamp).format("YYYY-MM-DD HH:mm")),i.a.createElement(Ce.a,{numeric:!0},e.value))}))))}}]),a}(s.Component),_e=Object(u.withStyles)(X)(De),Fe={transactions:0,activity:1,"flow chart":2},Be=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(c)))).state={currentTab:Fe.activity},t.getAddressDetails=function(e){var a=t.props,n=a.getAddressDetails,r=a.selectedAddress,o=a.blockchainId;n({address:e.address||r,blockchainId:e.blockchainId||o})},t.getAddressTransactionFlow=function(e){var a=t.props,n=a.getAddressTransactionFlow,r=a.selectedAddress,o=a.levelsBefore,l=a.levelsAfter,c=a.blockchainId;n({address:e.address||r,levelsBefore:e.levelsBefore||o,levelsAfter:e.levelsAfter||l,blockchainId:e.blockchainId||c})},t.handleTabChange=function(e,a){t.setState({currentTab:a})},t}return Object(c.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.selectAddress,t=e.match.params.address;a(t),this.getAddressDetails({address:t}),this.getAddressTransactionFlow({address:t})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var a=this.props,t=a.match,n=a.selectAddress,r=t.params.address,o=e.match.params.address;r!==o&&(n(o),this.getAddressDetails({address:o}),this.getAddressTransactionFlow({address:o}))}},{key:"render",value:function(){var e=this,a=this.props,t=a.addressDetails,n=a.classes,r=a.goToAddressDetails,o=a.transactionsFlow,l=a.selectedAddress,c=a.levelsBefore,d=a.levelsAfter,m=(a.blockchainId,a.isLoading),u=this.state.currentTab;return m?i.a.createElement(B.a,null):i.a.createElement("div",null,i.a.createElement(E.a,null,i.a.createElement("br",null),i.a.createElement(_.a,{variant:"h5",color:"textPrimary"},l),i.a.createElement("br",null),m,i.a.createElement("div",null,t?i.a.createElement(se,{address:l,balance:t.balance}):null)),t?i.a.createElement(s.Fragment,null,i.a.createElement("br",null),i.a.createElement(p.a,{position:"static",color:"inherit"},i.a.createElement(y.a,{value:u,onChange:this.handleTabChange,indicatorColor:"primary",textColor:"primary",scrollable:!0,scrollButtons:"auto"},Object.keys(Fe).map(function(e){return i.a.createElement(S.a,{key:e,label:e})}))),u===Fe.transactions?i.a.createElement(b.a,null,i.a.createElement(_e,{address:l.toLowerCase(),transactions:t.transactions})):null,u===Fe.activity?i.a.createElement(b.a,null,i.a.createElement($,{address:l.toLowerCase(),transactions:t.transactions})):null,u===Fe["flow chart"]&&o?i.a.createElement(b.a,{elevation:8,className:n.transactionsFlow},i.a.createElement("div",{className:"flex wrap-content ".concat(n.transactionsFlowHeader)},i.a.createElement(_.a,{variant:"h4",className:"fill-flex"},"Transactions flow"),i.a.createElement(C.a,null,i.a.createElement(N.a,null,"Levels Before"),i.a.createElement(k.a,{fullWidth:!0,value:c,onChange:function(a){return e.getAddressTransactionFlow({levelsBefore:a.target.value})},disableUnderline:!0,inputProps:{label:"Levels before"}},i.a.createElement(O.a,{value:0},"None"),i.a.createElement(O.a,{value:1},"One"),i.a.createElement(O.a,{value:2},"Two"))),"\xa0 \xa0",i.a.createElement(C.a,null,i.a.createElement(N.a,null,"Levels after"),i.a.createElement(k.a,{value:d,onChange:function(a){return e.getAddressTransactionFlow({levelsAfter:a.target.value})},disableUnderline:!0,inputProps:{label:"Levels after"}},i.a.createElement(O.a,{value:0},"None"),i.a.createElement(O.a,{value:1},"One"),i.a.createElement(O.a,{value:2},"Two")))),i.a.createElement(z,{analysedAddress:l,chartData:o,onAddressChange:r})):null):null)}}]),a}(s.Component),je=Object(d.b)(function(e){return{addressDetails:e.addresses.addressDetails,selectedAddress:e.addresses.selectedAddress,transactionsFlow:e.addresses.transactionsFlow,levelsBefore:e.addresses.levelsBefore,levelsAfter:e.addresses.levelsAfter,blockchainId:e.addresses.blockchainId,isLoading:e.addresses.isLoading}},function(e){return{getAddressDetails:function(a){return e(Object(F.a)(a))},getAddressTransactionFlow:function(a){return e(Object(F.b)(a))},goToAddressDetails:function(a){return e(Object(m.b)("/address/".concat(a)))},selectAddress:function(a){return e(Object(F.d)(a))}}})(Be);a.default=Object(u.withStyles)(X)(je)},460:function(e,a,t){"use strict";var n=t(461),r=t.n(n),o=t(462),l=t(79),c=t(18),s=t(463),i=t.n(s).a.create({baseURL:"https://dekode.herokuapp.com/api"});i.interceptors.response.use(function(e){return e.data},function(e){return e&&e.response&&e.response.data?Promise.reject(e.response.data.message?e.response.data.message:e.response.data):Promise.reject({message:"Server error"})}),t.d(a,"c",function(){return u}),t.d(a,"a",function(){return f}),t.d(a,"b",function(){return p}),t.d(a,"d",function(){return v});var d=function(e){return{type:c.a.ON_GET_ADDRESSES_DETAILS_SUCCESS,payload:e}},m=function(e){return{type:c.a.ON_GET_ADDRESSES_TRANSACTIONS_FLOW_INIT,payload:e}},u=function(){return function(){var e=Object(o.a)(r.a.mark(function e(a){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:c.a.ON_GET_ADDRESSES_INIT}),e.next=4,i.get("/addresses");case 4:t=e.sent,a((n=t,{type:c.a.ON_GET_ADDRESSES_SUCCESS,payload:n})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:c.a.ON_GET_ADDRESSES_FAILURE}),a(Object(l.b)(e.t0));case 12:case"end":return e.stop()}var n},e,this,[[0,8]])}));return function(a){return e.apply(this,arguments)}}()},f=function(e){return function(){var a=Object(o.a)(r.a.mark(function a(t){var n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:c.a.ON_GET_ADDRESSES_DETAILS_INIT}),a.next=4,i.post("/addresses/details",e);case 4:n=a.sent,t(d(n)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:c.a.ON_GET_ADDRESSES_DETAILS_FAILURE}),t(Object(l.b)(a.t0));case 12:case"end":return a.stop()}},a,this,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},p=function(e){return function(){var a=Object(o.a)(r.a.mark(function a(t){var n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t(m(e)),a.next=4,i.post("/addresses/transaction-flow",e);case 4:n=a.sent,t((r=n,{type:c.a.ON_GET_ADDRESSES_TRANSACTIONS_FLOW_SUCCESS,payload:r})),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:c.a.ON_GET_ADDRESSES_TRANSACTIONS_FLOW_FAILURE}),t(Object(l.b)(a.t0));case 12:case"end":return a.stop()}var r},a,this,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},v=function(e){return{type:c.a.ON_SELECT_ADDRESS,payload:e}}}}]);
//# sourceMappingURL=2.bbefbbf7.chunk.js.map
